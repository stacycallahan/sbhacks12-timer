<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6 7 Pomodoro</title>
    <style>
        :root {
            --bg-color: #2f3542;
            --text-color: #ffffff;
            --study-color: #ff6b6b;
            /* Red text for study */
            --break-color: #4ecdc4;
            /* Teal text for break */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            /* Stack Title above content */
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* --- TITLE STYLING --- */
        h1 {
            font-size: 3rem;
            text-transform: uppercase;
            letter-spacing: 5px;
            margin-bottom: 50px;
            /* Space between title and hands */
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 20;
        }

        .main-layout {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 50px;
        }

        /* Wrapper to hold image and overlaid text */
        .hand-wrapper {
            position: relative;
            width: 300px;
            height: auto;
            /* ANIMATION SETTINGS */
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.5s ease, filter 0.5s;

            /* INACTIVE STATE (Pushed down) */
            opacity: 0.4;
            filter: grayscale(100%);
            transform: translateY(100px) scale(0.9);
        }

        /* NEUTRAL STATE (Even on start) */
        .hand-wrapper.neutral {
            opacity: 1;
            filter: grayscale(0%);
            transform: translateY(20px) scale(1);
        }

        /* ACTIVE STATE (Pulled up) */
        .hand-wrapper.active {
            opacity: 1;
            filter: grayscale(0%);
            transform: translateY(-50px) scale(1.1);
        }

        .hand-image {
            width: 100%;
            height: auto;
            display: block;
        }

        /* The Timer Text Overlay */
        .timer-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3.5rem;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            pointer-events: none;
        }

        /* Specific colors for specific timers */
        #study-wrapper .timer-text {
            color: var(--study-color);
        }

        #break-wrapper .timer-text {
            color: var(--break-color);
        }

        /* The Middle Control Panel */
        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 10;
        }

        button {
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            color: var(--bg-color);
            background-color: #dfe4ea;
            transition: transform 0.1s;
        }

        button:active {
            transform: scale(0.95);
        }

        #start-btn {
            background-color: #2ed573;
        }

        #pause-btn {
            background-color: #ffa502;
            display: none;
        }
    </style>
</head>

<body>

    <h1>6 7 Pomodoro</h1>

    <div class="main-layout">

        <div id="study-wrapper" class="hand-wrapper neutral">
            <img class="hand-image" src="handori.png" alt="Study Hand">
            <div class="timer-text" id="study-timer">00:06</div>
        </div>

        <div class="controls">
            <button id="start-btn" onclick="startTimer()">Start</button>
            <button id="pause-btn" onclick="pauseTimer()">Pause</button>
            <button id="reset-btn" onclick="resetTimer()">Reset</button>
        </div>

        <div id="break-wrapper" class="hand-wrapper neutral">
            <img class="hand-image" src="handflip.png" alt="Break Hand">
            <div class="timer-text" id="break-timer">00:07</div>
        </div>

    </div>

    <script>
        // --- CONFIGURATION ---
        const STUDY_TIME_SECONDS = 6;
        const BREAK_TIME_SECONDS = 7;

        // --- STATE ---
        let currentMode = 'study';
        let studySeconds = STUDY_TIME_SECONDS;
        let breakSeconds = BREAK_TIME_SECONDS;
        let timerInterval = null;
        let isRunning = false;
        let hasStarted = false;

        // --- DOM ELEMENTS ---
        const studyDisplay = document.getElementById('study-timer');
        const breakDisplay = document.getElementById('break-timer');
        const studyWrapper = document.getElementById('study-wrapper');
        const breakWrapper = document.getElementById('break-wrapper');
        const startBtn = document.getElementById('start-btn');
        const pauseBtn = document.getElementById('pause-btn');

        // --- HELPERS ---
        function formatTime(totalSeconds) {
            const m = Math.floor(totalSeconds / 60);
            const s = totalSeconds % 60;
            return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
        }

        function updateUI() {
            // Update Text
            studyDisplay.textContent = formatTime(studySeconds);
            breakDisplay.textContent = formatTime(breakSeconds);

            // VISUAL STATE LOGIC
            if (!hasStarted) {
                // Neutral Start: Both even
                studyWrapper.className = 'hand-wrapper neutral';
                breakWrapper.className = 'hand-wrapper neutral';
            }
            else if (currentMode === 'study') {
                // Study Active: Left HIGH, Right LOW
                studyWrapper.className = 'hand-wrapper active';
                breakWrapper.className = 'hand-wrapper';
            }
            else {
                // Break Active: Left LOW, Right HIGH
                studyWrapper.className = 'hand-wrapper';
                breakWrapper.className = 'hand-wrapper active';
            }
        }

        // --- TIMER LOGIC ---
        function switchMode() {
            if (currentMode === 'study') {
                currentMode = 'break';
                studySeconds = STUDY_TIME_SECONDS;
            } else {
                currentMode = 'study';
                breakSeconds = BREAK_TIME_SECONDS;
            }
            updateUI();
        }

        function startTimer() {
            if (isRunning) return;

            hasStarted = true;
            isRunning = true;

            startBtn.style.display = 'none';
            pauseBtn.style.display = 'inline-block';

            updateUI(); // Trigger animation immediately

            timerInterval = setInterval(() => {
                if (currentMode === 'study') {
                    if (studySeconds > 0) {
                        studySeconds--;
                    } else {
                        switchMode();
                    }
                } else {
                    if (breakSeconds > 0) {
                        breakSeconds--;
                    } else {
                        switchMode();
                    }
                }
                updateUI();
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            startBtn.style.display = 'inline-block';
            pauseBtn.style.display = 'none';
        }

        function resetTimer() {
            pauseTimer();
            studySeconds = STUDY_TIME_SECONDS;
            breakSeconds = BREAK_TIME_SECONDS;
            currentMode = 'study';
            hasStarted = false; // Reset to Neutral
            updateUI();
        }

        // Initialize
        updateUI();

    </script>
</body>

</html>